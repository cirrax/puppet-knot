# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`knot`](#knot): main class to configure knot dns
* [`knot::records::defaults::caa`](#knot--records--defaults--caa): default values for knot::records::caa
* [`knot::records::defaults::mail`](#knot--records--defaults--mail): default values for knot::records::mail
* [`knot::records::defaults::srv`](#knot--records--defaults--srv): defaults for srv records
* [`knot::records::defaults::tlsa`](#knot--records--defaults--tlsa): defaults for tlsa records
* [`knot::records::defaults::webserver`](#knot--records--defaults--webserver): default values for knot::records::webserver

### Defined types

* [`knot::add_conf`](#knot--add_conf): additional config files to add to knot eg for zones
* [`knot::domain`](#knot--domain): shortcut to add a domain configuration to the config: - adds a zone to the config file (uses knot::add_conf)  for the config file parameters 
* [`knot::records::caa`](#knot--records--caa): add caa records to the domain
* [`knot::records::mail`](#knot--records--mail): add mail dns records to the domain
* [`knot::records::network`](#knot--records--network): convert a hash into dns records
* [`knot::records::srv`](#knot--records--srv): add srv records
* [`knot::records::tlsa`](#knot--records--tlsa): add tlsa records
* [`knot::records::webserver`](#knot--records--webserver): add webserver dns records to the domain

### Resource types

* [`knot_record`](#knot_record): ensure a zone exists.
* [`knot_zone`](#knot_zone): ensure a zone exists. The zone is managed using the resource knot_zone_private
* [`knot_zone_private`](#knot_zone_private): ensure a zone exists. This is a private class do NOT use it in your mannifests instead use knot_zone which will call this resource with the z

### Functions

* [`knot::hname`](#knot--hname): function to get the hostname of fqdn by cutting the zone
* [`knot::zone`](#knot--zone): function to get the zone of fqdn by cutting the hostname

### Data types

* [`Knot::Acl`](#Knot--Acl): acl configuration section
* [`Knot::Control`](#Knot--Control): control configuration section
* [`Knot::Database`](#Knot--Database): database configuration section
* [`Knot::Dnskey_sync`](#Knot--Dnskey_sync): dnskey-sync configuration section
* [`Knot::External`](#Knot--External): external configuration section
* [`Knot::Key`](#Knot--Key): key configuration section
* [`Knot::Keystore`](#Knot--Keystore): keystore configuration section
* [`Knot::Log`](#Knot--Log): control configuration section
* [`Knot::Module`](#Knot--Module): module configuration section
* [`Knot::Policy`](#Knot--Policy): policy configuration section
* [`Knot::Record`](#Knot--Record): a record in a domain
* [`Knot::Record::Caa`](#Knot--Record--Caa): CAA record type
* [`Knot::Record::Dmarc_auth`](#Knot--Record--Dmarc_auth): Dmarc report authorization
* [`Knot::Record::Mx`](#Knot--Record--Mx): MX record type
* [`Knot::Record::Service`](#Knot--Record--Service): service RR  such as used for TLSA or SRV
* [`Knot::Record::Spf`](#Knot--Record--Spf): SPF record type
* [`Knot::Record::Srv`](#Knot--Record--Srv): SRV record type
* [`Knot::Record::Tlsa`](#Knot--Record--Tlsa): TLSA record type
* [`Knot::Remote`](#Knot--Remote): remote configuration section
* [`Knot::Remotes`](#Knot--Remotes): remotes configuration section
* [`Knot::Server`](#Knot--Server): server configuration section
* [`Knot::Statistics`](#Knot--Statistics): statistics configuration section
* [`Knot::Submission`](#Knot--Submission): submission configuration section
* [`Knot::Subtypes::Base64`](#Knot--Subtypes--Base64): subtype: Base64 encoded string
* [`Knot::Subtypes::Dname`](#Knot--Subtypes--Dname): subtype: Domain name
* [`Knot::Subtypes::Hexstr`](#Knot--Subtypes--Hexstr): subtype: Hexadecimal string (with 0x prefix)
* [`Knot::Subtypes::Size`](#Knot--Subtypes--Size): subtype: Number of bytes, an integer with a possible size multiplier suffix (B ~ 1, K ~ 1024, M ~ 1024^2 or G ~ 1024^3)
* [`Knot::Subtypes::Time`](#Knot--Subtypes--Time): subtype: Number of seconds, an integer  with a possible time multiplier suffix (s ~ 1, m ~ 60, h ~ 3600, d ~ 24 * 3600, w ~ 7 * 24 * 3600, M 
* [`Knot::Subzone`](#Knot--Subzone): a subzone definition
* [`Knot::Template`](#Knot--Template): template configuration section
* [`Knot::Xdp`](#Knot--Xdp): xdp configuration section
* [`Knot::Zone`](#Knot--Zone): zone configuration section

## Classes

### <a name="knot"></a>`knot`

main class to configure knot dns

#### Parameters

The following parameters are available in the `knot` class:

* [`module`](#-knot--module)
* [`server`](#-knot--server)
* [`xdp`](#-knot--xdp)
* [`control`](#-knot--control)
* [`log`](#-knot--log)
* [`statistics`](#-knot--statistics)
* [`database`](#-knot--database)
* [`keystore`](#-knot--keystore)
* [`key`](#-knot--key)
* [`remote`](#-knot--remote)
* [`remotes`](#-knot--remotes)
* [`acl`](#-knot--acl)
* [`submission`](#-knot--submission)
* [`dnskey_sync`](#-knot--dnskey_sync)
* [`policy`](#-knot--policy)
* [`external`](#-knot--external)
* [`template`](#-knot--template)
* [`zone`](#-knot--zone)
* [`clear`](#-knot--clear)
* [`first_includes`](#-knot--first_includes)
* [`last_includes`](#-knot--last_includes)
* [`service_name`](#-knot--service_name)
* [`service_ensure`](#-knot--service_ensure)
* [`service_enable`](#-knot--service_enable)
* [`packages`](#-knot--packages)
* [`config_file`](#-knot--config_file)
* [`config_dir`](#-knot--config_dir)
* [`owner`](#-knot--owner)
* [`group`](#-knot--group)
* [`mode`](#-knot--mode)
* [`params`](#-knot--params)
* [`index_elements`](#-knot--index_elements)
* [`domains`](#-knot--domains)

##### <a name="-knot--module"></a>`module`

Data type: `Hash[String[1],Knot::Module]`

Dynamic modules loading configuration.

Default value: `{}`

##### <a name="-knot--server"></a>`server`

Data type: `Optional[Knot::Server]`

General options related to the server.

Default value: `undef`

##### <a name="-knot--xdp"></a>`xdp`

Data type: `Optional[Knot::Xdp]`

Various options related to XDP listening, especially TCP.

Default value: `undef`

##### <a name="-knot--control"></a>`control`

Data type: `Optional[Knot::Control]`

Configuration of the server control interface.

Default value: `undef`

##### <a name="-knot--log"></a>`log`

Data type: `Optional[Array[Knot::Log]]`

Logging options

Default value: `undef`

##### <a name="-knot--statistics"></a>`statistics`

Data type: `Optional[Knot::Statistics]`

Periodic server statistics dumping

Default value: `undef`

##### <a name="-knot--database"></a>`database`

Data type: `Optional[Knot::Database]`

Configuration of databases for zone contents,
DNSSEC metadata, or event timers.

Default value: `undef`

##### <a name="-knot--keystore"></a>`keystore`

Data type: `Optional[Array[Knot::Keystore]]`

DNSSEC keystore configuration.

Default value: `undef`

##### <a name="-knot--key"></a>`key`

Data type: `Optional[Array[Knot::Key]]`

Shared TSIG keys used to authenticate
communication with the server.

Default value: `undef`

##### <a name="-knot--remote"></a>`remote`

Data type: `Optional[Array[Knot::Remote]]`

Definitions of remote servers for outgoing connections

Default value: `undef`

##### <a name="-knot--remotes"></a>`remotes`

Data type: `Optional[Array[Knot::Remotes]]`

Definitions of groups of remote servers

Default value: `undef`

##### <a name="-knot--acl"></a>`acl`

Data type: `Optional[Array[Knot::Acl]]`

Access control list rule definitions

Default value: `undef`

##### <a name="-knot--submission"></a>`submission`

Data type: `Optional[Array[Knot::Submission]]`

Parameters of KSK submission checks.

Default value: `undef`

##### <a name="-knot--dnskey_sync"></a>`dnskey_sync`

Data type: `Optional[Array[Knot::Dnskey_sync]]`

Parameters of DNSKEY dynamic-update synchronization.

Default value: `undef`

##### <a name="-knot--policy"></a>`policy`

Data type: `Optional[Array[Knot::Policy]]`

DNSSEC policy configuration.

Default value: `undef`

##### <a name="-knot--external"></a>`external`

Data type: `Optional[Array[Knot::External]]`

External zone validation configuration

Default value: `undef`

##### <a name="-knot--template"></a>`template`

Data type: `Optional[Array[Knot::Template]]`

shareable zone settings

Default value: `undef`

##### <a name="-knot--zone"></a>`zone`

Data type: `Optional[Array[Knot::Zone]]`

Definition of zones served by the server

Default value: `undef`

##### <a name="-knot--clear"></a>`clear`

Data type: `Array[String[1]]`

Array of parameter matches to clear
(set at the beginning of the file, after first_includes)

Default value: `[]`

##### <a name="-knot--first_includes"></a>`first_includes`

Data type: `Array[String[1]]`

Array of includes files, globs to include into the config
(set at the very beginning of the file)

Default value: `[]`

##### <a name="-knot--last_includes"></a>`last_includes`

Data type: `Array[String[1]]`

Array of includes files, globs to include into the config
(set at the very end of the file)

Default value: `['/etc/knot/conf.d/*.conf']`

##### <a name="-knot--service_name"></a>`service_name`

Data type: `String[1]`

name of the knot service

Default value: `'knot'`

##### <a name="-knot--service_ensure"></a>`service_ensure`

Data type: `String[1]`

what to ensure for the service

Default value: `'running'`

##### <a name="-knot--service_enable"></a>`service_enable`

Data type: `Boolean`

if the service should be enabled

Default value: `true`

##### <a name="-knot--packages"></a>`packages`

Data type: `Array[String[1]]`

knot packages to install

Default value: `['knot', 'knot-keymgr']`

##### <a name="-knot--config_file"></a>`config_file`

Data type: `Stdlib::Absolutepath`

name of the config file

Default value: `'/etc/knot/knot.conf'`

##### <a name="-knot--config_dir"></a>`config_dir`

Data type: `Stdlib::Absolutepath`

directory for additional include files
created with puppet

Default value: `'/etc/knot/conf.d'`

##### <a name="-knot--owner"></a>`owner`

Data type: `String[1]`

owner of the config file(s)

Default value: `'root'`

##### <a name="-knot--group"></a>`group`

Data type: `String[1]`

group of the config file(s)

Default value: `'knot'`

##### <a name="-knot--mode"></a>`mode`

Data type: `String[1]`

mode of the config file(s)

Default value: `'0640'`

##### <a name="-knot--params"></a>`params`

Data type: `Array[String[1]]`

the parameter names we print (if not undef) into the
config file.
see data/common.yaml for the default value

Default value: `[]`

##### <a name="-knot--index_elements"></a>`index_elements`

Data type: `Hash[String[1],String[1]]`

for certain parameters an index element exist which
is mandatory and needs to be printed before all
other elements.
these index are defined as a Hash where the key
is the parameter name, and the value the key in
the parameter Hash !
see data/common.yaml for the default value

Default value: `{}`

##### <a name="-knot--domains"></a>`domains`

Data type: `Hash[String[1],Hash]`

domains to create using the define knot::domain.
see there for parameters to use per domain.
Remark: this parameter is hiera hash merged.

Default value: `{}`

### <a name="knot--records--defaults--caa"></a>`knot::records::defaults::caa`

this class add the defaults used in knot::records::caa
for adding the records.

#### Parameters

The following parameters are available in the `knot::records::defaults::caa` class:

* [`caa`](#-knot--records--defaults--caa--caa)
* [`ttl`](#-knot--records--defaults--caa--ttl)

##### <a name="-knot--records--defaults--caa--caa"></a>`caa`

Data type: `Array[Knot::Record::Caa]`

the CAA record(s)
default from knot::records::defaults::caa

Default value: `[]`

##### <a name="-knot--records--defaults--caa--ttl"></a>`ttl`

Data type: `Integer`

the time to live (used for all records)

Default value: `3600`

### <a name="knot--records--defaults--mail"></a>`knot::records::defaults::mail`

this class add the defaults used in knot::records::mail
for adding the records.

#### Parameters

The following parameters are available in the `knot::records::defaults::mail` class:

* [`mailserver`](#-knot--records--defaults--mail--mailserver)
* [`ttl`](#-knot--records--defaults--mail--ttl)
* [`autodiscover`](#-knot--records--defaults--mail--autodiscover)
* [`autoconfig`](#-knot--records--defaults--mail--autoconfig)
* [`submission`](#-knot--records--defaults--mail--submission)
* [`imaps`](#-knot--records--defaults--mail--imaps)
* [`pop3s`](#-knot--records--defaults--mail--pop3s)
* [`caa`](#-knot--records--defaults--mail--caa)
* [`spf`](#-knot--records--defaults--mail--spf)
* [`dkim_keys`](#-knot--records--defaults--mail--dkim_keys)
* [`dkim_policy`](#-knot--records--defaults--mail--dkim_policy)
* [`adsp_policy`](#-knot--records--defaults--mail--adsp_policy)
* [`dmarc_policy`](#-knot--records--defaults--mail--dmarc_policy)
* [`dmarc_authorization`](#-knot--records--defaults--mail--dmarc_authorization)

##### <a name="-knot--records--defaults--mail--mailserver"></a>`mailserver`

Data type: `Array[Knot::Record::Mx]`

target mailservers for mx record

Default value: `[]`

##### <a name="-knot--records--defaults--mail--ttl"></a>`ttl`

Data type: `Integer`

the time to live (used for all records)

Default value: `3600`

##### <a name="-knot--records--defaults--mail--autodiscover"></a>`autodiscover`

Data type: `Array[Knot::Record::Srv]`

if set, adds a SRV record for autodiscover
used by Microsoft clients
Example:
{ 'weight' => 0,
  'priority' => 10,
  'target_port' => 443,
  'target' => 'autodiscover.hostname.com'
}
default from knot::records::defaults::mail

Default value: `[]`

##### <a name="-knot--records--defaults--mail--autoconfig"></a>`autoconfig`

Data type: `Optional[String[1]]`

target to config for autconfig (eg. Thunderbird)
a CNAME record is created

Default value: `undef`

##### <a name="-knot--records--defaults--mail--submission"></a>`submission`

Data type: `Array[Knot::Record::Srv]`

if set, adds a SRV record for submission (format see
autodiscover example above).

Default value: `[]`

##### <a name="-knot--records--defaults--mail--imaps"></a>`imaps`

Data type: `Array[Knot::Record::Srv]`

if set, adds a SRV record for imaps (format see
autodiscover example above).

Default value: `[]`

##### <a name="-knot--records--defaults--mail--pop3s"></a>`pop3s`

Data type: `Array[Knot::Record::Srv]`

if set, adds a SRV record for pop3s (format see
autodiscover example above).

Default value: `[]`

##### <a name="-knot--records--defaults--mail--caa"></a>`caa`

Data type: `Array[Knot::Record::Caa]`

caa records to create (using define knot::records::caa)

Default value: `[]`

##### <a name="-knot--records--defaults--mail--spf"></a>`spf`

Data type: `Optional[Knot::Record::Spf]`

SPF record to add
(see https://datatracker.ietf.org/doc/html/rfc7208)

Default value: `undef`

##### <a name="-knot--records--defaults--mail--dkim_keys"></a>`dkim_keys`

Data type: `Hash[String[1],Array[String[1]]]`

Hash of dkim keys

Default value: `{}`

##### <a name="-knot--records--defaults--mail--dkim_policy"></a>`dkim_policy`

Data type: `Optional[String[1]]`

dkim policy (TXT record _domainkey)
see https://datatracker.ietf.org/doc/html/rfc4870
and https://datatracker.ietf.org/doc/html/rfc4871

Default value: `undef`

##### <a name="-knot--records--defaults--mail--adsp_policy"></a>`adsp_policy`

Data type: `Optional[String[1]]`

adsp policy (TXT record _adsp._domainkey)
see https://datatracker.ietf.org/doc/html/rfc5617

Default value: `undef`

##### <a name="-knot--records--defaults--mail--dmarc_policy"></a>`dmarc_policy`

Data type: `Optional[Array[String[1]]]`

dmarc policy (TXT record _dmarc)
see https://datatracker.ietf.org/doc/html/rfc7489

Default value: `undef`

##### <a name="-knot--records--defaults--mail--dmarc_authorization"></a>`dmarc_authorization`

Data type: `Optional[Knot::Record::Dmarc_auth]`

dmarc authorization TXT record
if dmarc reports go to another domain, the other domains
needs a record to authorize such reports.
so this record is generated in the report receiving domain, which
only works if this domain is also setup with knot and enabled to
receive puppet generated records.
record is: ${target_zone}._report._dmarc TXT ${dmarch_authorization}
see https://datatracker.ietf.org/doc/html/rfc7489 (section 7.1)
see https://dmarc.org/2015/08/receiving-dmarc-reports-outside-your-domain

Default value: `undef`

### <a name="knot--records--defaults--srv"></a>`knot::records::defaults::srv`

defaults for srv records

#### Parameters

The following parameters are available in the `knot::records::defaults::srv` class:

* [`srv`](#-knot--records--defaults--srv--srv)
* [`service`](#-knot--records--defaults--srv--service)
* [`ttl`](#-knot--records--defaults--srv--ttl)

##### <a name="-knot--records--defaults--srv--srv"></a>`srv`

Data type: `Array[Knot::Record::Srv]`

the SRV record(s)

Default value: `[]`

##### <a name="-knot--records--defaults--srv--service"></a>`service`

Data type: `Array[Knot::Record::Service]`

an array of services

Default value: `[]`

##### <a name="-knot--records--defaults--srv--ttl"></a>`ttl`

Data type: `Integer`

the time to live (used for all records)

Default value: `3600`

### <a name="knot--records--defaults--tlsa"></a>`knot::records::defaults::tlsa`

defaults for tlsa records

#### Parameters

The following parameters are available in the `knot::records::defaults::tlsa` class:

* [`tlsa`](#-knot--records--defaults--tlsa--tlsa)
* [`service`](#-knot--records--defaults--tlsa--service)
* [`ttl`](#-knot--records--defaults--tlsa--ttl)

##### <a name="-knot--records--defaults--tlsa--tlsa"></a>`tlsa`

Data type: `Array[Knot::Record::Tlsa]`

the TLSA record(s)

Default value: `[]`

##### <a name="-knot--records--defaults--tlsa--service"></a>`service`

Data type: `Array[Knot::Record::Service]`

an array of services

Default value: `[]`

##### <a name="-knot--records--defaults--tlsa--ttl"></a>`ttl`

Data type: `Integer`

the time to live (used for all records)

Default value: `3600`

### <a name="knot--records--defaults--webserver"></a>`knot::records::defaults::webserver`

this class add the defaults used in knot::records::webserver
for adding the records.

#### Parameters

The following parameters are available in the `knot::records::defaults::webserver` class:

* [`ipv4`](#-knot--records--defaults--webserver--ipv4)
* [`ipv6`](#-knot--records--defaults--webserver--ipv6)
* [`alpn`](#-knot--records--defaults--webserver--alpn)
* [`ttl`](#-knot--records--defaults--webserver--ttl)
* [`caa`](#-knot--records--defaults--webserver--caa)
* [`tlsa`](#-knot--records--defaults--webserver--tlsa)
* [`tlsa_service`](#-knot--records--defaults--webserver--tlsa_service)

##### <a name="-knot--records--defaults--webserver--ipv4"></a>`ipv4`

Data type: `Optional[Stdlib::IP::Address::V4::Nosubnet]`

the ipv4 address (A record)

Default value: `undef`

##### <a name="-knot--records--defaults--webserver--ipv6"></a>`ipv6`

Data type: `Optional[Stdlib::IP::Address::V6::Nosubnet]`

the ipv4 address (AAAA record)

Default value: `undef`

##### <a name="-knot--records--defaults--webserver--alpn"></a>`alpn`

Data type: `Array[String[1]]`

the ALPN record

Default value: `[]`

##### <a name="-knot--records--defaults--webserver--ttl"></a>`ttl`

Data type: `Integer`

the time to live

Default value: `3600`

##### <a name="-knot--records--defaults--webserver--caa"></a>`caa`

Data type: `Array[Knot::Record::Caa]`

caa records to create (using define knot::records::caa)

Default value: `[]`

##### <a name="-knot--records--defaults--webserver--tlsa"></a>`tlsa`

Data type: `Array[Knot::Record::Tlsa]`

tlsa records to create (using define knot::records::tlsa)

Default value: `[]`

##### <a name="-knot--records--defaults--webserver--tlsa_service"></a>`tlsa_service`

Data type: `Array[Knot::Record::Service]`

tlsa service records to create (using define knot::records::tlsa)

Default value: `[]`

## Defined types

### <a name="knot--add_conf"></a>`knot::add_conf`

additional config files to add to knot
eg for zones

#### Parameters

The following parameters are available in the `knot::add_conf` defined type:

* [`ensure`](#-knot--add_conf--ensure)
* [`module`](#-knot--add_conf--module)
* [`server`](#-knot--add_conf--server)
* [`xdp`](#-knot--add_conf--xdp)
* [`control`](#-knot--add_conf--control)
* [`log`](#-knot--add_conf--log)
* [`statistics`](#-knot--add_conf--statistics)
* [`database`](#-knot--add_conf--database)
* [`keystore`](#-knot--add_conf--keystore)
* [`key`](#-knot--add_conf--key)
* [`remote`](#-knot--add_conf--remote)
* [`remotes`](#-knot--add_conf--remotes)
* [`acl`](#-knot--add_conf--acl)
* [`submission`](#-knot--add_conf--submission)
* [`dnskey_sync`](#-knot--add_conf--dnskey_sync)
* [`policy`](#-knot--add_conf--policy)
* [`external`](#-knot--add_conf--external)
* [`template`](#-knot--add_conf--template)
* [`zone`](#-knot--add_conf--zone)
* [`clear`](#-knot--add_conf--clear)
* [`first_includes`](#-knot--add_conf--first_includes)
* [`last_includes`](#-knot--add_conf--last_includes)
* [`params`](#-knot--add_conf--params)
* [`index_elements`](#-knot--add_conf--index_elements)
* [`config_dir`](#-knot--add_conf--config_dir)
* [`filename`](#-knot--add_conf--filename)

##### <a name="-knot--add_conf--ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `'present'`

##### <a name="-knot--add_conf--module"></a>`module`

Data type: `Hash[String[1],Knot::Module]`

Dynamic modules loading configuration.

Default value: `{}`

##### <a name="-knot--add_conf--server"></a>`server`

Data type: `Optional[Knot::Server]`

General options related to the server.

Default value: `undef`

##### <a name="-knot--add_conf--xdp"></a>`xdp`

Data type: `Optional[Knot::Xdp]`

Various options related to XDP listening, especially TCP.

Default value: `undef`

##### <a name="-knot--add_conf--control"></a>`control`

Data type: `Optional[Knot::Control]`

Configuration of the server control interface.

Default value: `undef`

##### <a name="-knot--add_conf--log"></a>`log`

Data type: `Optional[Array[Knot::Log]]`

Logging options

Default value: `undef`

##### <a name="-knot--add_conf--statistics"></a>`statistics`

Data type: `Optional[Knot::Statistics]`

Periodic server statistics dumping

Default value: `undef`

##### <a name="-knot--add_conf--database"></a>`database`

Data type: `Optional[Knot::Database]`

Configuration of databases for zone contents,
DNSSEC metadata, or event timers.

Default value: `undef`

##### <a name="-knot--add_conf--keystore"></a>`keystore`

Data type: `Optional[Array[Knot::Keystore]]`

DNSSEC keystore configuration.

Default value: `undef`

##### <a name="-knot--add_conf--key"></a>`key`

Data type: `Optional[Array[Knot::Key]]`

Shared TSIG keys used to authenticate
communication with the server.

Default value: `undef`

##### <a name="-knot--add_conf--remote"></a>`remote`

Data type: `Optional[Array[Knot::Remote]]`

Definitions of remote servers for outgoing connections

Default value: `undef`

##### <a name="-knot--add_conf--remotes"></a>`remotes`

Data type: `Optional[Array[Knot::Remotes]]`

Definitions of groups of remote servers

Default value: `undef`

##### <a name="-knot--add_conf--acl"></a>`acl`

Data type: `Optional[Array[Knot::Acl]]`

Access control list rule definitions

Default value: `undef`

##### <a name="-knot--add_conf--submission"></a>`submission`

Data type: `Optional[Array[Knot::Submission]]`

Parameters of KSK submission checks.

Default value: `undef`

##### <a name="-knot--add_conf--dnskey_sync"></a>`dnskey_sync`

Data type: `Optional[Array[Knot::Dnskey_sync]]`

Parameters of DNSKEY dynamic-update synchronization.

Default value: `undef`

##### <a name="-knot--add_conf--policy"></a>`policy`

Data type: `Optional[Array[Knot::Policy]]`

DNSSEC policy configuration.

Default value: `undef`

##### <a name="-knot--add_conf--external"></a>`external`

Data type: `Optional[Array[Knot::External]]`

External zone validation configuration

Default value: `undef`

##### <a name="-knot--add_conf--template"></a>`template`

Data type: `Optional[Array[Knot::Template]]`

shareable zone settings

Default value: `undef`

##### <a name="-knot--add_conf--zone"></a>`zone`

Data type: `Optional[Array[Knot::Zone]]`

Definition of zones served by the server

Default value: `undef`

##### <a name="-knot--add_conf--clear"></a>`clear`

Data type: `Array[String[1]]`

Array of parameter matches to clear
(set at the beginning of the file, after first_includes)

Default value: `[]`

##### <a name="-knot--add_conf--first_includes"></a>`first_includes`

Data type: `Array[String[1]]`

Array of includes files, globs to include into the config
(set at the very beginning of the file)

Default value: `[]`

##### <a name="-knot--add_conf--last_includes"></a>`last_includes`

Data type: `Array[String[1]]`

Array of includes files, globs to include into the config
(set at the very end of the file)

Default value: `[]`

##### <a name="-knot--add_conf--params"></a>`params`

Data type: `Optional[Array[String[1]]]`

the parameter names we print (if not undef) into the
config file.
see data/common.yaml for the default value

Default value: `undef`

##### <a name="-knot--add_conf--index_elements"></a>`index_elements`

Data type: `Optional[Hash[String[1],String[1]]]`

for certain parameters an index element exist which
is mandatory and needs to be printed before all
other elements.
these index are defined as a Hash where the key
is the parameter name, and the value the key in
the parameter Hash !
see data/common.yaml for the default value

Default value: `undef`

##### <a name="-knot--add_conf--config_dir"></a>`config_dir`

Data type: `Optional[Stdlib::Absolutepath]`

the directory where to put this configuration file
defaults to config_dir set in init.pp

Default value: `undef`

##### <a name="-knot--add_conf--filename"></a>`filename`

Data type: `String[1]`

the filename to write, default "${title}.conf"

Default value: `"${title}.conf"`

### <a name="knot--domain"></a>`knot::domain`

shortcut to add a domain configuration to the config:
- adds a zone to the config file (uses knot::add_conf)

for the config file parameters see:
https://www.knot-dns.cz/docs/latest/html/reference.html#zone-section

#### Parameters

The following parameters are available in the `knot::domain` defined type:

* [`ensure`](#-knot--domain--ensure)
* [`domain`](#-knot--domain--domain)
* [`comment`](#-knot--domain--comment)
* [`template`](#-knot--domain--template)
* [`storage`](#-knot--domain--storage)
* [`file`](#-knot--domain--file)
* [`zone_db_input`](#-knot--domain--zone_db_input)
* [`zone_db_output`](#-knot--domain--zone_db_output)
* [`master`](#-knot--domain--master)
* [`ddns_master`](#-knot--domain--ddns_master)
* [`send_notify`](#-knot--domain--send_notify)
* [`notify_delay`](#-knot--domain--notify_delay)
* [`update_delay`](#-knot--domain--update_delay)
* [`acl`](#-knot--domain--acl)
* [`master_pin_tolerance`](#-knot--domain--master_pin_tolerance)
* [`provide_ixfr`](#-knot--domain--provide_ixfr)
* [`semantic_checks`](#-knot--domain--semantic_checks)
* [`default_ttl`](#-knot--domain--default_ttl)
* [`zonefile_sync`](#-knot--domain--zonefile_sync)
* [`zonefile_load`](#-knot--domain--zonefile_load)
* [`zonefile_skip`](#-knot--domain--zonefile_skip)
* [`journal_content`](#-knot--domain--journal_content)
* [`journal_max_usage`](#-knot--domain--journal_max_usage)
* [`journal_max_depth`](#-knot--domain--journal_max_depth)
* [`ixfr_benevolent`](#-knot--domain--ixfr_benevolent)
* [`ixfr_by_one`](#-knot--domain--ixfr_by_one)
* [`ixfr_from_axfr`](#-knot--domain--ixfr_from_axfr)
* [`zone_max_size`](#-knot--domain--zone_max_size)
* [`adjust_threads`](#-knot--domain--adjust_threads)
* [`external_validation`](#-knot--domain--external_validation)
* [`dnssec_signing`](#-knot--domain--dnssec_signing)
* [`dnssec_validation`](#-knot--domain--dnssec_validation)
* [`dnssec_policy`](#-knot--domain--dnssec_policy)
* [`ds_push`](#-knot--domain--ds_push)
* [`zonemd_verify`](#-knot--domain--zonemd_verify)
* [`zonemd_generate`](#-knot--domain--zonemd_generate)
* [`serial_policy`](#-knot--domain--serial_policy)
* [`serial_modulo`](#-knot--domain--serial_modulo)
* [`reverse_generate`](#-knot--domain--reverse_generate)
* [`include_from`](#-knot--domain--include_from)
* [`refresh_min_interval`](#-knot--domain--refresh_min_interval)
* [`refresh_max_interval`](#-knot--domain--refresh_max_interval)
* [`retry_min_interval`](#-knot--domain--retry_min_interval)
* [`retry_max_interval`](#-knot--domain--retry_max_interval)
* [`expire_min_interval`](#-knot--domain--expire_min_interval)
* [`expire_max_interval`](#-knot--domain--expire_max_interval)
* [`catalog_role`](#-knot--domain--catalog_role)
* [`catalog_template`](#-knot--domain--catalog_template)
* [`catalog_zone`](#-knot--domain--catalog_zone)
* [`catalog_group`](#-knot--domain--catalog_group)
* [`module`](#-knot--domain--module)
* [`manage_zone`](#-knot--domain--manage_zone)
* [`zone_content_filter`](#-knot--domain--zone_content_filter)
* [`zone_show_diff`](#-knot--domain--zone_show_diff)
* [`zone_manage_records`](#-knot--domain--zone_manage_records)
* [`zone_soa_ttl`](#-knot--domain--zone_soa_ttl)
* [`zone_soa_class`](#-knot--domain--zone_soa_class)
* [`zone_soa_mname`](#-knot--domain--zone_soa_mname)
* [`zone_soa_rname`](#-knot--domain--zone_soa_rname)
* [`zone_soa_refresh`](#-knot--domain--zone_soa_refresh)
* [`zone_soa_retry`](#-knot--domain--zone_soa_retry)
* [`zone_soa_expire`](#-knot--domain--zone_soa_expire)
* [`zone_soa_minttl`](#-knot--domain--zone_soa_minttl)
* [`zone_records`](#-knot--domain--zone_records)
* [`zone_nameservers`](#-knot--domain--zone_nameservers)
* [`zone_nameservers_ttl`](#-knot--domain--zone_nameservers_ttl)
* [`zone_subzones`](#-knot--domain--zone_subzones)

##### <a name="-knot--domain--ensure"></a>`ensure`

Data type: `Enum['absent', 'present']`



Default value: `'present'`

##### <a name="-knot--domain--domain"></a>`domain`

Data type: `String[1]`

the domain to manage

Default value: `$title`

##### <a name="-knot--domain--comment"></a>`comment`

Data type: `Optional[String[1]]`

a comment

Default value: `undef`

##### <a name="-knot--domain--template"></a>`template`

Data type: `Optional[String[1]]`

A reference to a configuration template.

Default value: `undef`

##### <a name="-knot--domain--storage"></a>`storage`

Data type: `Optional[String[1]]`

A data directory for storing zone files.

Default value: `undef`

##### <a name="-knot--domain--file"></a>`file`

Data type: `Optional[String[1]]`

A path to the zone file.

Default value: `undef`

##### <a name="-knot--domain--zone_db_input"></a>`zone_db_input`

Data type: `Optional[Integer]`

If set, the zone is loaded from the zone database configured at zone-db-listen.

Default value: `undef`

##### <a name="-knot--domain--zone_db_output"></a>`zone_db_output`

Data type: `Optional[String[1]]`

If set, the zone is stored to the zone database configured at zone-db-listen
and updated there with every change to the zone contents.

Default value: `undef`

##### <a name="-knot--domain--master"></a>`master`

Data type: `Optional[Array[String[1]]]`

An ordered list of references remote and remotes to zone primary servers
(formerly known as master servers)

Default value: `undef`

##### <a name="-knot--domain--ddns_master"></a>`ddns_master`

Data type: `Optional[String[1]]`

A reference to a zone primary master where DDNS messages should be forwarded to.

Default value: `undef`

##### <a name="-knot--domain--send_notify"></a>`send_notify`

Data type: `Optional[Array[String[1]]]`

An ordered list of references remote and remotes to secondary servers to
which NOTIFY message is sent if the zone changes

Default value: `undef`

##### <a name="-knot--domain--notify_delay"></a>`notify_delay`

Data type: `Optional[Knot::Subtypes::Time]`

A time delay in seconds before an outgoing NOTIFY message is sent.

Default value: `undef`

##### <a name="-knot--domain--update_delay"></a>`update_delay`

Data type: `Optional[Knot::Subtypes::Time]`

A time delay in seconds before a change to zone contents is made after an external trigger.

Default value: `undef`

##### <a name="-knot--domain--acl"></a>`acl`

Data type: `Optional[Array[String[1]]]`

An ordered list of references to ACL rules which can allow or
disallow zone transfers, updates or incoming notifies.

Default value: `undef`

##### <a name="-knot--domain--master_pin_tolerance"></a>`master_pin_tolerance`

Data type: `Optional[Knot::Subtypes::Time]`

If set to a nonzero value on a secondary, always request AXFR/IXFR from the
same primary as the last time, effectively pinning one primary.

Default value: `undef`

##### <a name="-knot--domain--provide_ixfr"></a>`provide_ixfr`

Data type: `Optional[Boolean]`

If disabled, the server is forced to respond with AXFR to IXFR queries.

Default value: `undef`

##### <a name="-knot--domain--semantic_checks"></a>`semantic_checks`

Data type: `Optional[Variant[Enum['soft'], Boolean]]`

Selects if extra zone semantic checks are used or impacts of the mandatory checks.

Default value: `undef`

##### <a name="-knot--domain--default_ttl"></a>`default_ttl`

Data type: `Optional[Knot::Subtypes::Time]`

The default TTL value if none is specified in a zone file or zone insertion
using the dynamic configuration.

Default value: `undef`

##### <a name="-knot--domain--zonefile_sync"></a>`zonefile_sync`

Data type: `Optional[Knot::Subtypes::Time]`

The time in seconds after which the current zone in memory will be synced with a zone file on the disk.

Default value: `undef`

##### <a name="-knot--domain--zonefile_load"></a>`zonefile_load`

Data type: `Optional[Enum['none', 'difference', 'difference-no-serial', 'whole']]`

Selects how the zone file contents are applied during zone load.

Default value: `undef`

##### <a name="-knot--domain--zonefile_skip"></a>`zonefile_skip`

Data type: `Optional[Array[String[1]]]`

Specifies resource record types to be omitted when loading and syncing zone files.

Default value: `undef`

##### <a name="-knot--domain--journal_content"></a>`journal_content`

Data type: `Optional[Enum['none', 'changes', 'all']]`

Selects how the journal shall be used to store zone and its changes.

Default value: `undef`

##### <a name="-knot--domain--journal_max_usage"></a>`journal_max_usage`

Data type: `Optional[Knot::Subtypes::Size]`

Policy how much space in journal DB will the zone's journal occupy.

Default value: `undef`

##### <a name="-knot--domain--journal_max_depth"></a>`journal_max_depth`

Data type: `Optional[Integer]`

Maximum history length of the journal.

Default value: `undef`

##### <a name="-knot--domain--ixfr_benevolent"></a>`ixfr_benevolent`

Data type: `Optional[Boolean]`

If enabled, incoming IXFR is applied even when it contains removals of
non-existing or additions of existing records.

Default value: `undef`

##### <a name="-knot--domain--ixfr_by_one"></a>`ixfr_by_one`

Data type: `Optional[Boolean]`

Within incoming IXFR, process only one changeset at a time, not multiple together.

Default value: `undef`

##### <a name="-knot--domain--ixfr_from_axfr"></a>`ixfr_from_axfr`

Data type: `Optional[Boolean]`

If a primary sends AXFR-style-IXFR upon an IXFR request, compute the difference and
process it as an incremental zone update.

Default value: `undef`

##### <a name="-knot--domain--zone_max_size"></a>`zone_max_size`

Data type: `Optional[Knot::Subtypes::Size]`

Maximum size of the zone.

Default value: `undef`

##### <a name="-knot--domain--adjust_threads"></a>`adjust_threads`

Data type: `Optional[String[1]]`

Parallelize internal zone adjusting procedures by using specified number of threads.

Default value: `undef`

##### <a name="-knot--domain--external_validation"></a>`external_validation`

Data type: `Optional[String[1]]`

If configured, every change to the zone is paused just before applying the new zone.

Default value: `undef`

##### <a name="-knot--domain--dnssec_signing"></a>`dnssec_signing`

Data type: `Optional[Boolean]`

If enabled, automatic DNSSEC signing for the zone is turned on.

Default value: `undef`

##### <a name="-knot--domain--dnssec_validation"></a>`dnssec_validation`

Data type: `Optional[Boolean]`

If enabled, the zone contents are validated for being correctly signed (including NSEC/NSEC3 chain)
with DNSSEC signatures every time the zone is loaded or changed (including AXFR/IXFR).

Default value: `undef`

##### <a name="-knot--domain--dnssec_policy"></a>`dnssec_policy`

Data type: `Optional[String[1]]`

A reference to DNSSEC signing policy.

Default value: `undef`

##### <a name="-knot--domain--ds_push"></a>`ds_push`

Data type: `Optional[Variant[String[1],Array[String[1]]]]`

Per zone configuration of ds-push.

Default value: `undef`

##### <a name="-knot--domain--zonemd_verify"></a>`zonemd_verify`

Data type: `Optional[Boolean]`

On each zone load/update, verify that ZONEMD is present in the zone and valid.

Default value: `undef`

##### <a name="-knot--domain--zonemd_generate"></a>`zonemd_generate`

Data type: `Optional[Enum['none', 'zonemd-sha384', 'zonemd-sha512', 'remove']]`

On each zone update, calculate ZONEMD and put it into the zone.

Default value: `undef`

##### <a name="-knot--domain--serial_policy"></a>`serial_policy`

Data type: `Optional[Enum['increment', 'unixtime', 'dateserial']]`

Specifies how the zone serial is updated after a dynamic update or automatic DNSSEC signing.

Default value: `undef`

##### <a name="-knot--domain--serial_modulo"></a>`serial_modulo`

Data type: `Optional[String[1]]`

see knot parameter description about how this works !

Default value: `undef`

##### <a name="-knot--domain--reverse_generate"></a>`reverse_generate`

Data type: `Optional[Array[Knot::Subtypes::Dname]]`

A list of zone names for which automatic generation of reverse PTR records based on A/AAAA records is enabled.

Default value: `undef`

##### <a name="-knot--domain--include_from"></a>`include_from`

Data type: `Optional[Array[Knot::Subtypes::Dname]]`

A list of subzones that should be flattened into this zone.

Default value: `undef`

##### <a name="-knot--domain--refresh_min_interval"></a>`refresh_min_interval`

Data type: `Optional[Knot::Subtypes::Time]`

Forced minimum zone refresh interval (in seconds).

Default value: `undef`

##### <a name="-knot--domain--refresh_max_interval"></a>`refresh_max_interval`

Data type: `Optional[Knot::Subtypes::Time]`

Forced maximum zone refresh interval (in seconds).

Default value: `undef`

##### <a name="-knot--domain--retry_min_interval"></a>`retry_min_interval`

Data type: `Optional[Knot::Subtypes::Time]`

Forced minimum zone retry interval (in seconds) to avoid flooding primary server.

Default value: `undef`

##### <a name="-knot--domain--retry_max_interval"></a>`retry_max_interval`

Data type: `Optional[Knot::Subtypes::Time]`

Forced maximum zone retry interval (in seconds).

Default value: `undef`

##### <a name="-knot--domain--expire_min_interval"></a>`expire_min_interval`

Data type: `Optional[Knot::Subtypes::Time]`

Forced minimum zone expire interval (in seconds) to avoid flooding primary server.

Default value: `undef`

##### <a name="-knot--domain--expire_max_interval"></a>`expire_max_interval`

Data type: `Optional[Knot::Subtypes::Time]`

Forced maximum zone expire interval (in seconds).

Default value: `undef`

##### <a name="-knot--domain--catalog_role"></a>`catalog_role`

Data type: `Optional[Enum['none', 'interpret', 'generate', 'member']]`

Trigger zone catalog feature.

Default value: `undef`

##### <a name="-knot--domain--catalog_template"></a>`catalog_template`

Data type: `Optional[Array[String[1]]]`

For the catalog member zones, the specified configuration template will be applied.

Default value: `undef`

##### <a name="-knot--domain--catalog_zone"></a>`catalog_zone`

Data type: `Optional[Knot::Subtypes::Dname]`

Assign this member zone to specified generated catalog zone.

Default value: `undef`

##### <a name="-knot--domain--catalog_group"></a>`catalog_group`

Data type: `Optional[String[1]]`

Assign this member zone to specified catalog group (configuration template).

Default value: `undef`

##### <a name="-knot--domain--module"></a>`module`

Data type: `Optional[Array[String[1]]]`

An ordered list of references to query modules in the form of module_name or module_name/module_id.

Default value: `undef`

##### <a name="-knot--domain--manage_zone"></a>`manage_zone`

Data type: `Boolean`

set this to true, if you want to apply the domain records with the knot_zone resource.
this allows you to manage dns records with puppet using knot_record resource.
leave this to false for secondary domains.

Default value: `false`

##### <a name="-knot--domain--zone_content_filter"></a>`zone_content_filter`

Data type: `Optional[String[1]]`

regex for filtering out unwanted records by default filters dnssec records assuming you use autosigning.
remark: only relevant if $manage_zone set to true

Default value: `undef`

##### <a name="-knot--domain--zone_show_diff"></a>`zone_show_diff`

Data type: `Optional[Boolean]`

Whether to display differences when the zone changes, defaulting to
false. Since zones can be huge, use this only for debugging
remark: only relevant if $manage_zone set to true

Default value: `undef`

##### <a name="-knot--domain--zone_manage_records"></a>`zone_manage_records`

Data type: `Optional[Boolean]`

If puppet shall manage all zone records for the domain (any records not managed with puppet will be purged).
The default is true, to manage the SOA record and all zone records through puppet for the zone.
If set to false, ensurance of zone creation is done only and the administration of zone records needs to be done through
web Interface or any other preferred method.
remark: only relevant if $manage_zone set to true

Default value: `undef`

##### <a name="-knot--domain--zone_soa_ttl"></a>`zone_soa_ttl`

Data type: `Optional[String[1]]`

ttl for SOA record
remark: only relevant if $manage_zone set to true

Default value: `undef`

##### <a name="-knot--domain--zone_soa_class"></a>`zone_soa_class`

Data type: `Optional[String[1]]`

zone class for SOA record
remark: only relevant if $manage_zone set to true

Default value: `undef`

##### <a name="-knot--domain--zone_soa_mname"></a>`zone_soa_mname`

Data type: `Optional[String[1]]`

primary master name server for the zone for SOA record
remark: only relevant if $manage_zone set to true

Default value: `undef`

##### <a name="-knot--domain--zone_soa_rname"></a>`zone_soa_rname`

Data type: `Optional[String[1]]`

Email address of the administrator responsible for this zone for SOA record
remark: only relevant if $manage_zone set to true

Default value: `undef`

##### <a name="-knot--domain--zone_soa_refresh"></a>`zone_soa_refresh`

Data type: `Optional[String[1]]`

Number of seconds after which secondary name servers should query the master for the SOA record, to detect zone changes
remark: only relevant if $manage_zone set to true

Default value: `undef`

##### <a name="-knot--domain--zone_soa_retry"></a>`zone_soa_retry`

Data type: `Optional[String[1]]`

Number of seconds after which secondary name servers should retry to request the serial number from the master if the master does not respond
remark: only relevant if $manage_zone set to true

Default value: `undef`

##### <a name="-knot--domain--zone_soa_expire"></a>`zone_soa_expire`

Data type: `Optional[String[1]]`

Number of seconds after which secondary name servers should stop answering request for this zone if the master does not respond.
remark: only relevant if $manage_zone set to true

Default value: `undef`

##### <a name="-knot--domain--zone_soa_minttl"></a>`zone_soa_minttl`

Data type: `Optional[String[1]]`

Minimum ttl in seconds, negativ response caching ttl
remark: only relevant if $manage_zone set to true

Default value: `undef`

##### <a name="-knot--domain--zone_records"></a>`zone_records`

Data type: `Array[Knot::Record]`

array of records to add to the domain
remark: only relevant if $manage_zone set to true

Default value: `[]`

##### <a name="-knot--domain--zone_nameservers"></a>`zone_nameservers`

Data type: `Array[String[1]]`

list of nameservers to add
remark: only relevant if $manage_zone set to true

Default value: `[]`

##### <a name="-knot--domain--zone_nameservers_ttl"></a>`zone_nameservers_ttl`

Data type: `Integer`

ttl to use for $zone_nameservers entries
remark: only relevant if $manage_zone set to true

Default value: `3600`

##### <a name="-knot--domain--zone_subzones"></a>`zone_subzones`

Data type: `Hash[String[1],Knot::Subzone]`

Hash of subzones to establish
remark: only relevant if $manage_zone set to true

Default value: `{}`

### <a name="knot--records--caa"></a>`knot::records::caa`

default values can be configured in the class
knot::records::defaults::caa which is included
here (eg in hiera).

#### Parameters

The following parameters are available in the `knot::records::caa` defined type:

* [`rname`](#-knot--records--caa--rname)
* [`target_zone`](#-knot--records--caa--target_zone)
* [`caa`](#-knot--records--caa--caa)
* [`ttl`](#-knot--records--caa--ttl)

##### <a name="-knot--records--caa--rname"></a>`rname`

Data type: `Optional[String[1]]`

the hostname to add

Default value: `undef`

##### <a name="-knot--records--caa--target_zone"></a>`target_zone`

Data type: `Optional[String[1]]`

the target zone to add the records

Default value: `undef`

##### <a name="-knot--records--caa--caa"></a>`caa`

Data type: `Optional[Array[Knot::Record::Caa]]`

the CAA record(s)
default from knot::records::defaults::caa

Default value: `undef`

##### <a name="-knot--records--caa--ttl"></a>`ttl`

Data type: `Optional[Integer]`

the time to live (used for all records)
default from knot::records::defaults::caa

Default value: `undef`

### <a name="knot--records--mail"></a>`knot::records::mail`

used to add a common set of dns records to a domain
for a mail service. This includes records for automated
client configuration (autoconfig, autodiscover, SRV records)
and setup up SPV, DKIM, DMARC etc used for server to server
communication.

default values can be configured in the class
knot::records::defaults::webserver which is included
here (eg in hiera).

#### Parameters

The following parameters are available in the `knot::records::mail` defined type:

* [`rname`](#-knot--records--mail--rname)
* [`target_zone`](#-knot--records--mail--target_zone)
* [`mailserver`](#-knot--records--mail--mailserver)
* [`ttl`](#-knot--records--mail--ttl)
* [`autodiscover`](#-knot--records--mail--autodiscover)
* [`autoconfig`](#-knot--records--mail--autoconfig)
* [`submission`](#-knot--records--mail--submission)
* [`imaps`](#-knot--records--mail--imaps)
* [`pop3s`](#-knot--records--mail--pop3s)
* [`caa`](#-knot--records--mail--caa)
* [`spf_rtypes`](#-knot--records--mail--spf_rtypes)
* [`spf`](#-knot--records--mail--spf)
* [`dkim_keys`](#-knot--records--mail--dkim_keys)
* [`dkim_policy`](#-knot--records--mail--dkim_policy)
* [`adsp_policy`](#-knot--records--mail--adsp_policy)
* [`dmarc_policy`](#-knot--records--mail--dmarc_policy)
* [`dmarc_authorization`](#-knot--records--mail--dmarc_authorization)

##### <a name="-knot--records--mail--rname"></a>`rname`

Data type: `Optional[String[1]]`

the hostname to add

Default value: `undef`

##### <a name="-knot--records--mail--target_zone"></a>`target_zone`

Data type: `Optional[String[1]]`

the target zone to add the records

Default value: `undef`

##### <a name="-knot--records--mail--mailserver"></a>`mailserver`

Data type: `Optional[Array[Knot::Record::Mx]]`

target mailservers for mx record

Default value: `undef`

##### <a name="-knot--records--mail--ttl"></a>`ttl`

Data type: `Optional[Integer]`

the time to live (used for all records)
default from knot::records::defaults::webserver

Default value: `undef`

##### <a name="-knot--records--mail--autodiscover"></a>`autodiscover`

Data type: `Optional[Array[Knot::Record::Srv]]`

if set, adds a SRV record for autodiscover
used by Microsoft clients
Example:
{ 'weight' => 0,
  'priority' => 10,
  'target_port' => 443,
  'target' => 'autodiscover.hostname.com'
}
default from knot::records::defaults::mail

Default value: `undef`

##### <a name="-knot--records--mail--autoconfig"></a>`autoconfig`

Data type: `Optional[String[1]]`

target to config for autconfig (eg. Thunderbird)
a CNAME record is created

Default value: `undef`

##### <a name="-knot--records--mail--submission"></a>`submission`

Data type: `Optional[Array[Knot::Record::Srv]]`

if set, adds a SRV record for submission (format see
autodiscover example above).
default from knot::records::defaults::mail

Default value: `undef`

##### <a name="-knot--records--mail--imaps"></a>`imaps`

Data type: `Optional[Array[Knot::Record::Srv]]`

if set, adds a SRV record for imaps (format see
autodiscover example above).
default from knot::records::defaults::mail

Default value: `undef`

##### <a name="-knot--records--mail--pop3s"></a>`pop3s`

Data type: `Optional[Array[Knot::Record::Srv]]`

if set, adds a SRV record for pop3s (format see
autodiscover example above).
default from knot::records::defaults::mail

Default value: `undef`

##### <a name="-knot--records--mail--caa"></a>`caa`

Data type: `Optional[Array[Knot::Record::Caa]]`

caa records to create (using define knot::records::caa)
default from knot::records::defaults::mail

Default value: `undef`

##### <a name="-knot--records--mail--spf_rtypes"></a>`spf_rtypes`

Data type: `Array[Enum['SPF','TXT']]`

resource types to create for spf record

Default value: `['SPF','TXT']`

##### <a name="-knot--records--mail--spf"></a>`spf`

Data type: `Optional[Knot::Record::Spf]`

SPF record to add
(see https://datatracker.ietf.org/doc/html/rfc7208)
default from knot::records::defaults::mail

Default value: `undef`

##### <a name="-knot--records--mail--dkim_keys"></a>`dkim_keys`

Data type: `Optional[Hash[String[1],Array[String[1]]]]`

hash of dkim keys

Default value: `undef`

##### <a name="-knot--records--mail--dkim_policy"></a>`dkim_policy`

Data type: `Optional[String[1]]`

dkim policy (TXT record _domainkey)
see https://datatracker.ietf.org/doc/html/rfc4870
and https://datatracker.ietf.org/doc/html/rfc4871

Default value: `undef`

##### <a name="-knot--records--mail--adsp_policy"></a>`adsp_policy`

Data type: `Optional[String[1]]`

adsp policy (TXT record _adsp._domainkey)
see https://datatracker.ietf.org/doc/html/rfc5617

Default value: `undef`

##### <a name="-knot--records--mail--dmarc_policy"></a>`dmarc_policy`

Data type: `Optional[Array[String[1]]]`

dmarc policy (TXT record _dmarc)
see https://datatracker.ietf.org/doc/html/rfc7489
see https://www.learndmarc.comt/

Default value: `undef`

##### <a name="-knot--records--mail--dmarc_authorization"></a>`dmarc_authorization`

Data type: `Optional[Knot::Record::Dmarc_auth]`

dmarc authorization TXT record
if dmarc reports go to another domain, the other domains
needs a record to authorize such reports.
so this record is generated in the report receiving domain, which
only works if this domain is also setup with knot and enabled to
receive puppet generated records (if the target domain is not
setup for receiving the generated authorization, the setting is
silently ignored !)
record is: ${target_zone}._report._dmarc TXT ${dmarch_authorization}
see https://datatracker.ietf.org/doc/html/rfc7489 (section 7.1)
see https://dmarc.org/2015/08/receiving-dmarc-reports-outside-your-domain

Default value: `undef`

### <a name="knot--records--network"></a>`knot::records::network`

this converts a hash of hosts
IN A and IN AAAA records

#### Parameters

The following parameters are available in the `knot::records::network` defined type:

* [`target_zone`](#-knot--records--network--target_zone)
* [`hostlist`](#-knot--records--network--hostlist)
* [`ttl`](#-knot--records--network--ttl)
* [`ipv4_key`](#-knot--records--network--ipv4_key)
* [`ipv6_key`](#-knot--records--network--ipv6_key)

##### <a name="-knot--records--network--target_zone"></a>`target_zone`

Data type: `String[1]`

the target zone to add the records

##### <a name="-knot--records--network--hostlist"></a>`hostlist`

Data type: `Hash[String[1],Hash[String[1],Any]]`

a list of hosts of the form
{ hostname => {ipv4 => 1.1.1.1, ipv6 => ::1}, hostname2 => ...
keys used are ipv4 and ipv6 (or whatever is specified in
$ipv4_key resp. $ipv6_key. Additional keys are explicitly allowed,
but not used.

Default value: `{}`

##### <a name="-knot--records--network--ttl"></a>`ttl`

Data type: `Integer`

the ttl to use

Default value: `3600`

##### <a name="-knot--records--network--ipv4_key"></a>`ipv4_key`

Data type: `String[1]`

the key for ipv4 records

Default value: `'ipv4'`

##### <a name="-knot--records--network--ipv6_key"></a>`ipv6_key`

Data type: `String[1]`

the key for ipv6 records

Default value: `'ipv4'`

### <a name="knot--records--srv"></a>`knot::records::srv`

default values can be configured in the class
knot::records::defaults::srv which is included
here (eg in hiera).

#### Parameters

The following parameters are available in the `knot::records::srv` defined type:

* [`rname`](#-knot--records--srv--rname)
* [`target_zone`](#-knot--records--srv--target_zone)
* [`srv`](#-knot--records--srv--srv)
* [`service`](#-knot--records--srv--service)
* [`ttl`](#-knot--records--srv--ttl)

##### <a name="-knot--records--srv--rname"></a>`rname`

Data type: `Optional[String[1]]`

the hostname to add

Default value: `undef`

##### <a name="-knot--records--srv--target_zone"></a>`target_zone`

Data type: `Optional[String[1]]`

the target zone to add the records

Default value: `undef`

##### <a name="-knot--records--srv--srv"></a>`srv`

Data type: `Optional[Array[Knot::Record::Srv]]`

the SRV record(s)
default from knot::records::defaults::srv

Default value: `undef`

##### <a name="-knot--records--srv--service"></a>`service`

Data type: `Optional[Array[Knot::Record::Service]]`

an array of services

Default value: `undef`

##### <a name="-knot--records--srv--ttl"></a>`ttl`

Data type: `Optional[Integer]`

the time to live (used for all records)
default from knot::records::defaults::srv

Default value: `undef`

### <a name="knot--records--tlsa"></a>`knot::records::tlsa`

default values can be configured in the class
knot::records::defaults::tlsa which is included
here (eg in hiera).

#### Parameters

The following parameters are available in the `knot::records::tlsa` defined type:

* [`rname`](#-knot--records--tlsa--rname)
* [`target_zone`](#-knot--records--tlsa--target_zone)
* [`tlsa`](#-knot--records--tlsa--tlsa)
* [`service`](#-knot--records--tlsa--service)
* [`ttl`](#-knot--records--tlsa--ttl)

##### <a name="-knot--records--tlsa--rname"></a>`rname`

Data type: `Optional[String[1]]`

the hostname to add

Default value: `undef`

##### <a name="-knot--records--tlsa--target_zone"></a>`target_zone`

Data type: `Optional[String[1]]`

the target zone to add the records

Default value: `undef`

##### <a name="-knot--records--tlsa--tlsa"></a>`tlsa`

Data type: `Optional[Array[Knot::Record::Tlsa]]`

the TLSA record(s)
default from knot::records::defaults::tlsa

Default value: `undef`

##### <a name="-knot--records--tlsa--service"></a>`service`

Data type: `Optional[Array[Knot::Record::Service]]`

an array of services

Default value: `undef`

##### <a name="-knot--records--tlsa--ttl"></a>`ttl`

Data type: `Optional[Integer]`

the time to live (used for all records)
default from knot::records::defaults::tlsa

Default value: `undef`

### <a name="knot--records--webserver"></a>`knot::records::webserver`

used to add a common set of dns records to a domain
for a webserver.

default values can be configured in the class
knot::records::defaults::webserver which is included
here (eg in hiera).

#### Parameters

The following parameters are available in the `knot::records::webserver` defined type:

* [`rname`](#-knot--records--webserver--rname)
* [`target_zone`](#-knot--records--webserver--target_zone)
* [`ipv4`](#-knot--records--webserver--ipv4)
* [`ipv6`](#-knot--records--webserver--ipv6)
* [`alpn`](#-knot--records--webserver--alpn)
* [`ttl`](#-knot--records--webserver--ttl)
* [`caa`](#-knot--records--webserver--caa)
* [`tlsa`](#-knot--records--webserver--tlsa)
* [`tlsa_service`](#-knot--records--webserver--tlsa_service)

##### <a name="-knot--records--webserver--rname"></a>`rname`

Data type: `Optional[String[1]]`

the hostname to add

Default value: `undef`

##### <a name="-knot--records--webserver--target_zone"></a>`target_zone`

Data type: `Optional[String[1]]`

the target zone to add the records

Default value: `undef`

##### <a name="-knot--records--webserver--ipv4"></a>`ipv4`

Data type: `Optional[Stdlib::IP::Address::V4::Nosubnet]`

the ipv4 address (A record)
default from knot::records::defaults::webserver

Default value: `undef`

##### <a name="-knot--records--webserver--ipv6"></a>`ipv6`

Data type: `Optional[Stdlib::IP::Address::V6::Nosubnet]`

the ipv4 address (AAAA record)
default from knot::records::defaults::webserver

Default value: `undef`

##### <a name="-knot--records--webserver--alpn"></a>`alpn`

Data type: `Optional[Array[String[1]]]`

the ALPN record(s)
default from knot::records::defaults::webserver

Default value: `undef`

##### <a name="-knot--records--webserver--ttl"></a>`ttl`

Data type: `Optional[Integer]`

the time to live (used for all records)
default from knot::records::defaults::webserver

Default value: `undef`

##### <a name="-knot--records--webserver--caa"></a>`caa`

Data type: `Optional[Array[Knot::Record::Caa]]`

caa records to create (using define knot::records::caa)
default from knot::records::defaults::webserver

Default value: `undef`

##### <a name="-knot--records--webserver--tlsa"></a>`tlsa`

Data type: `Optional[Array[Knot::Record::Tlsa]]`

tlsa records to create (using define knot::records::tlsa)
default from knot::records::defaults::webserver

Default value: `undef`

##### <a name="-knot--records--webserver--tlsa_service"></a>`tlsa_service`

Data type: `Optional[Array[Knot::Record::Service]]`

tlsa services to create tlsa records for (using define knot::records::tlsa)
default from knot::records::defaults::webserver

Default value: `undef`

## Resource types

### <a name="knot_record"></a>`knot_record`

ensure a zone exists.

#### Parameters

The following parameters are available in the `knot_record` type.

* [`name`](#-knot_record--name)
* [`rclass`](#-knot_record--rclass)
* [`rcontent`](#-knot_record--rcontent)
* [`rname`](#-knot_record--rname)
* [`rttl`](#-knot_record--rttl)
* [`rtype`](#-knot_record--rtype)
* [`target_zone`](#-knot_record--target_zone)

##### <a name="-knot_record--name"></a>`name`

namevar

name of the record as namevar

##### <a name="-knot_record--rclass"></a>`rclass`

the class of record (defaults to '' which will result in 'IN')

Default value: `''`

##### <a name="-knot_record--rcontent"></a>`rcontent`

the content of the record

##### <a name="-knot_record--rname"></a>`rname`

the name of the record to add (remark target zone will be added)
defaults to the first characters of the title until the first '.'.
to add a record equal the taget_zone, add a '.' only.

##### <a name="-knot_record--rttl"></a>`rttl`

the ttl of the record

Default value: `3600`

##### <a name="-knot_record--rtype"></a>`rtype`

the record type

Default value: `A`

##### <a name="-knot_record--target_zone"></a>`target_zone`

the target zone defaults to all characters after the first . in the title.

### <a name="knot_zone"></a>`knot_zone`

ensure a zone exists. The zone is managed using the
resource knot_zone_private

#### Parameters

The following parameters are available in the `knot_zone` type.

* [`content_filter`](#-knot_zone--content_filter)
* [`manage_records`](#-knot_zone--manage_records)
* [`name`](#-knot_zone--name)
* [`show_diff`](#-knot_zone--show_diff)
* [`soa_class`](#-knot_zone--soa_class)
* [`soa_expire`](#-knot_zone--soa_expire)
* [`soa_minttl`](#-knot_zone--soa_minttl)
* [`soa_mname`](#-knot_zone--soa_mname)
* [`soa_refresh`](#-knot_zone--soa_refresh)
* [`soa_retry`](#-knot_zone--soa_retry)
* [`soa_rname`](#-knot_zone--soa_rname)
* [`soa_ttl`](#-knot_zone--soa_ttl)
* [`zone_ensure`](#-knot_zone--zone_ensure)

##### <a name="-knot_zone--content_filter"></a>`content_filter`

regex for filtering out unwanted records by default filters dnssec records and zonemd, assuming you use autogeneration

Default value: `^.+ [0-9]+ (RRSIG|NSEC|DNSKEY|CDNSKEY|CDS|ZONEMD) .*$`

##### <a name="-knot_zone--manage_records"></a>`manage_records`

Valid values: `true`, `false`, `yes`, `no`

If puppet shall manage all zone records for the domain (any records not managed with puppet will be purged).
The default is true, to manage the SOA record and all zone records through puppet for the zone.
If set to false, ensurance of zone creation is done only and the administration of zone records needs to be done through
web Interface or any other preferred method.

Default value: `true`

##### <a name="-knot_zone--name"></a>`name`

namevar

name of the zone name as namevar

##### <a name="-knot_zone--show_diff"></a>`show_diff`

Valid values: `true`, `false`, `yes`, `no`

Whether to display differences when the zone changes, defaulting to
false. Since zones can be huge, use this only for debugging

Default value: `false`

##### <a name="-knot_zone--soa_class"></a>`soa_class`

zone class for SOA record

Default value: `IN`

##### <a name="-knot_zone--soa_expire"></a>`soa_expire`

Number of seconds after which secondary name servers should stop answering request for this zone if the master does not
respond.

Default value: `604800`

##### <a name="-knot_zone--soa_minttl"></a>`soa_minttl`

Minimum ttl in seconds, negativ response caching ttl

Default value: `3600`

##### <a name="-knot_zone--soa_mname"></a>`soa_mname`

primary master name server for the zone for SOA record

##### <a name="-knot_zone--soa_refresh"></a>`soa_refresh`

Number of seconds after which secondary name servers should query the master for the SOA record, to detect zone changes

Default value: `10800`

##### <a name="-knot_zone--soa_retry"></a>`soa_retry`

Number of seconds after which secondary name servers should retry to request the serial number from the master if the
master does not respond

Default value: `3600`

##### <a name="-knot_zone--soa_rname"></a>`soa_rname`

Email address of the administrator responsible for this zone for SOA record

##### <a name="-knot_zone--soa_ttl"></a>`soa_ttl`

ttl for SOA record

Default value: `3600`

##### <a name="-knot_zone--zone_ensure"></a>`zone_ensure`

ensure parameter for the zone, use present/absent

Default value: `present`

### <a name="knot_zone_private"></a>`knot_zone_private`

ensure a zone exists. This is a private class do NOT use it in your mannifests instead use knot_zone which will
call this resource with the zone records added.

#### Properties

The following properties are available in the `knot_zone_private` type.

##### `content`

Content (records) of the zone. This must match the output of 'knotc zone-read ZONE|sort'.

##### `ensure`

Valid values: `present`, `absent`

Whether the zone should be present or absent

Default value: `present`

#### Parameters

The following parameters are available in the `knot_zone_private` type.

* [`content_filter`](#-knot_zone_private--content_filter)
* [`manage_records`](#-knot_zone_private--manage_records)
* [`name`](#-knot_zone_private--name)
* [`provider`](#-knot_zone_private--provider)
* [`show_diff`](#-knot_zone_private--show_diff)

##### <a name="-knot_zone_private--content_filter"></a>`content_filter`

regex for filtering out unwanted records by default filters dnssec records assuming you use autosigning

Default value: `^.+ [0-9]+ (RRSIG|NSEC|DNSKEY|CDNSKEY|CDS) .*$`

##### <a name="-knot_zone_private--manage_records"></a>`manage_records`

Valid values: `true`, `false`, `yes`, `no`

if we manage the all zone records for the domain (any records not managed with puppet will be purged).

Default value: `true`

##### <a name="-knot_zone_private--name"></a>`name`

namevar

name of the zone name as namevar

##### <a name="-knot_zone_private--provider"></a>`provider`

The specific backend to use for this `knot_zone_private` resource. You will seldom need to specify this --- Puppet will
usually discover the appropriate provider for your platform.

##### <a name="-knot_zone_private--show_diff"></a>`show_diff`

Valid values: `true`, `false`, `yes`, `no`

Whether to display differences when the zone changes, defaulting to
false. Since zones can be huge, use this only for debugging

Default value: `false`

## Functions

### <a name="knot--hname"></a>`knot::hname`

Type: Puppet Language

function to get the hostname of fqdn
by cutting the zone

#### `knot::hname(String $thefqdn)`

function to get the hostname of fqdn
by cutting the zone

Returns: `Any` the hostname of the fqdn (cuts the zone)
for toplevel domains we return a '.'

##### `thefqdn`

Data type: `String`

the fqdn of a node

### <a name="knot--zone"></a>`knot::zone`

Type: Puppet Language

function to get the zone of fqdn
by cutting the hostname

#### `knot::zone(String $thefqdn)`

function to get the zone of fqdn
by cutting the hostname

Returns: `Any` the zone of the fqdn (cuts the hostname)
if the resulting zone is a top level zone, we return $thefqdn

##### `thefqdn`

Data type: `String`

the fqdn of a node

## Data types

### <a name="Knot--Acl"></a>`Knot::Acl`

acl configuration section

* **See also**
  * https://www.knot_dns.cz/docs/latest/html/reference.html#acl-section

Alias of

```puppet
Struct[{
  'comment'            => Optional[String[1]],
  'id'                 => String[1],
  'address'            => Optional[Array[String[1]]],
  'key'                => Optional[Array[String[1]]],
  'cert-key'           => Optional[Array[Knot::Subtypes::Base64]],
  'cert-hostname'      => Optional[Array[String[1]]],
  'remote'             => Optional[Array[String[1]]],
  'action'             => Optional[Variant[
    Array[Enum['query', 'notify', 'transfer', 'update']],
  Enum['query', 'notify', 'transfer', 'update']]],
  'protocol'           => Optional[Array[Enum['udp', 'tcp', 'tls', 'quic']]],
  'deny'               => Optional[Boolean],
  'update-type'        => Optional[Array[String[1]]],
  'update-owner'       => Optional[Enum['key', 'zone', 'name']],
  'update-owner-match' => Optional[Enum['sub-or-equal', 'equal', 'sub', 'pattern']],
  'update-owner-name'  => Optional[Array[String[1]]],
}]
```

### <a name="Knot--Control"></a>`Knot::Control`

control configuration section

* **See also**
  * https://www.knot_dns.cz/docs/latest/html/reference.html#control-section

Alias of

```puppet
Struct[{
  'comment' => Optional[String[1]],
  'listen'  => Optional[Array[String[1]]],
  'backlog' => Optional[Integer],
  'timeout' => Optional[Knot::Subtypes::Time],
}]
```

### <a name="Knot--Database"></a>`Knot::Database`

database configuration section

* **See also**
  * https://www.knot-dns.cz/docs/latest/html/reference.html#database-section

Alias of

```puppet
Struct[{
  'comment'               => Optional[String[1]],
  'storage'               => Optional[String[1]],
  'journal-db'            => Optional[String[1]],
  'journal-db-mode'       => Optional[Enum['robust', 'asynchronous']],
  'journal-db-max-size'   => Optional[Knot::Subtypes::Size],
  'kasp-db'               => Optional[String[1]],
  'kasp-db-max-size'      => Optional[Knot::Subtypes::Size],
  'timer-db'              => Optional[String[1]],
  'timer-db-max-size'     => Optional[Knot::Subtypes::Size],
  'timer-db-sync'         => Optional[Variant[Enum['never', 'shutdown', 'immediate'], Knot::Subtypes::Time]],
  'catalog-db'            => Optional[String[1]],
  'catalog-db-max-size'   => Optional[Knot::Subtypes::Size],
  'zone-db-listen'        => Optional[Array[String[1]]],
  'zone-db-tls'           => Optional[Boolean],
  'zone-db-cert-key'      => Optional[Knot::Subtypes::Hexstr],
  'zone-db-cert-hostname' => Optional[String[1]],
}]
```

### <a name="Knot--Dnskey_sync"></a>`Knot::Dnskey_sync`

dnskey-sync configuration section

* **See also**
  * https://www.knot_dns.cz/docs/latest/html/reference.html#dnskey-sync-section

Alias of

```puppet
Struct[{
  'comment'        => Optional[String[1]],
  'id'             => String[1],
  'remote'         => Option[Array[String[1]]],
  'check-interval' => Optional[Knot::Subtypes::Time],
}]
```

### <a name="Knot--External"></a>`Knot::External`

external configuration section

* **See also**
  * https://www.knot_dns.cz/docs/latest/html/reference.html#external-section

Alias of

```puppet
Struct[{
  'comment'        => Optional[String[1]],
  'id'             => String[1],
  'timeout'        => Optional[Knot::Subtypes::Time],
  'dump-new-zone'  => Optional[String[1]],
  'dump-removals'  => Optional[String[1]],
  'dump-additions' => Optional[String[1]],
}]
```

### <a name="Knot--Key"></a>`Knot::Key`

key configuration section

* **See also**
  * https://www.knot_dns.cz/docs/latest/html/reference.html#key-section

Alias of

```puppet
Struct[{
  'comment'   => Optional[String[1]],
  'id'        => Knot::Subtypes::Dname,
  'algorithm' => Optional[Enum['hmac-md5', 'hmac-sha1', 'hmac-sha224', 'hmac-sha256', 'hmac-sha384', 'hmac-sha512']],
  'secret'    => Knot::Subtypes::Base64,
}]
```

### <a name="Knot--Keystore"></a>`Knot::Keystore`

keystore configuration section

* **See also**
  * https://www.knot_dns.cz/docs/latest/html/reference.html#keystore-section

Alias of

```puppet
Struct[{
  'comment'   => Optional[String[1]],
  'id'        => String[1],
  'backend'   => Optional[Enum['pem','pkcs11']],
  'config'    => Optional[String[1]],
  'ksk-only'  => Optional[Boolean],
  'key-label' => Optional[Boolean],
}]
```

### <a name="Knot--Log"></a>`Knot::Log`

control configuration section

* **See also**
  * https://www.knot_dns.cz/docs/latest/html/reference.html#control-section

Alias of

```puppet
Struct[{
  'comment' => Optional[String[1]],
  'target'  => Variant[Enum['stdout', 'stderr', 'syslog'], String[1]],
  'server'  => Optional[Enum['critical', 'error', 'warning', 'notice', 'info', 'debug']],
  'control' => Optional[Enum['critical', 'error', 'warning', 'notice', 'info', 'debug']],
  'zone'    => Optional[Enum['critical', 'error', 'warning', 'notice', 'info', 'debug']],
  'quic'    => Optional[Enum['critical', 'error', 'warning', 'notice', 'info', 'debug']],
  'any'     => Optional[Enum['critical', 'error', 'warning', 'notice', 'info', 'debug']],
}]
```

### <a name="Knot--Module"></a>`Knot::Module`

module configuration section

* **See also**
  * https://www.knot-dns.cz/docs/latest/html/reference.html#module-section

Alias of `Array[Hash[String[1],Any]]`

### <a name="Knot--Policy"></a>`Knot::Policy`

policy configuration section

* **See also**
  * https://www.knot-dns.cz/docs/latest/html/reference.html#policy-section

Alias of

```puppet
Struct[{
  'comment'              => Optional[String[1]],
  'id'                   => String[1],
  'keystore'             => Optional[Array[String[1]]],
  'manual'               => Optional[Boolean],
  'single-type-signing'  => Optional[Boolean],
  'algorithm'            => Optional[Enum['rsasha1', 'rsasha1-nsec3-sha1',
  'rsasha256', 'rsasha512', 'ecdsap256sha256', 'ecdsap384sha384', 'ed25519', 'ed448']],
  'ksk-size'             => Optional[Knot::Subtypes::Size],
  'zsk-size'             => Optional[Knot::Subtypes::Size],
  'ksk-shared'           => Optional[Boolean],
  'dnskey-ttl'           => Optional[Knot::Subtypes::Time],
  'zone-max-ttl'         => Optional[Knot::Subtypes::Time],
  'keytag-modulo'        => Optional[String[1]],
  'ksk-lifetime'         => Optional[Knot::Subtypes::Time],
  'zsk-lifetime'         => Optional[Knot::Subtypes::Time],
  'delete-delay'         => Optional[Knot::Subtypes::Time],
  'propagation-delay'    => Optional[Knot::Subtypes::Time],
  'rrsig-lifetime'       => Optional[Knot::Subtypes::Time],
  'rrsig-refresh'        => Optional[Knot::Subtypes::Time],
  'rrsig-pre-refresh'    => Optional[Knot::Subtypes::Time],
  'reproducible-signing' => Optional[Boolean],
  'nsec3'                => Optional[Boolean],
  'nsec3-iterations'     => Optional[Integer],
  'nsec3-opt-out'        => Optional[Boolean],
  'nsec3-salt-length'    => Optional[Integer],
  'nsec3-salt-lifetime'  => Optional[Knot::Subtypes::Time],
  'signing-threads'      => Optional[Integer],
  'ksk-submission'       => Optional[String[1]],
  'ds-push'              => Optional[Variant[String[1],Array[String[1]]]],
  'cds-cdnskey-publish'  => Optional[Enum['none', 'delete-dnssec', 'rollover', 'always', 'double-ds']],
  'cds-digest-type'      => Optional[Enum['sha256', 'sha384']],
  'dnskey-management'    => Optional[Enum['full', 'incremental']],
  'offline-ksk'          => Optional[Boolean],
  'unsafe-operation'     => Optional[Array[Enum['none', 'no-check-keyset' , 'no-update-dnskey', 'no-update-nsec', 'no-update-expired']]],
}]
```

### <a name="Knot--Record"></a>`Knot::Record`

used to create records using knot_record resource

Alias of

```puppet
Struct[{
  'rname'    => String[1],
  'rcontent' => String[1],
  'rclass'   => Optional[String[1]],
  'rtype'    => Optional[String[1]],
  'rttl'     => Optional[String[1]],
}]
```

### <a name="Knot--Record--Caa"></a>`Knot::Record::Caa`

parameters mentioned in rfc8657 must currently
be mentioned in value

* **See also**
  * https://datatracker.ietf.org/doc/html/rfc8659
  * https://datatracker.ietf.org/doc/html/rfc8657

Alias of

```puppet
Struct[{
  'flags'  => Integer[0,255],
  'tag'    => Enum['issue','issuewild','iodef'],
  'value'  => String[1],
}]
```

### <a name="Knot--Record--Dmarc_auth"></a>`Knot::Record::Dmarc_auth`

Dmarc report authorization

* **See also**
  * https://dmarc.org/2015/08/receiving-dmarc-reports-outside-your-domain/
  * https://datatracker.ietf.org/doc/html/rfc7489
  * (section 7.1)

Alias of

```puppet
Struct[{
  'target_zone' => String[1],
  'record'      => String[1],
}]
```

### <a name="Knot--Record--Mx"></a>`Knot::Record::Mx`

MX record type

Alias of

```puppet
Struct[{
  'prio'   => Integer[0,255],
  'target' => String[1],
}]
```

### <a name="Knot--Record--Service"></a>`Knot::Record::Service`

service RR  such as used for TLSA or SRV

* **See also**
  * https://www.rfc-editor.org/rfc/rfc2782
  * (for SRV)

Alias of

```puppet
Struct[{
  'port'  => Variant[Integer[0], String[1]],
  'proto' => Enum['udp', 'tcp'],
}]
```

### <a name="Knot--Record--Spf"></a>`Knot::Record::Spf`

SPF record type

* **See also**
  * https://www.rfc-editor.org/rfc/rfc7208

Alias of

```puppet
Struct[{
  'version'   => String[1],
  'mechanism' => Array[String[1]],
  'modifier'  => Array[String[1]],
}]
```

### <a name="Knot--Record--Srv"></a>`Knot::Record::Srv`

SRV record type

* **See also**
  * https://www.rfc-editor.org/rfc/rfc2782

Alias of

```puppet
Struct[{
  'priority'    => Integer[0,65535],
  'weight'      => Integer[0,65535],
  'target_port' => Integer[0],
  'target'      => String[1],
}]
```

### <a name="Knot--Record--Tlsa"></a>`Knot::Record::Tlsa`

TLSA record type

* **See also**
  * https://www.rfc-editor.org/rfc/rfc6698
  * https://www.rfc-editor.org/rfc/rfc7218

Alias of

```puppet
Struct[{
  'usage'    => Integer[0,255],
  'selector' => Integer[0,255],
  'matching' => Integer[0,255],
  'value'    => String[1],
}]
```

### <a name="Knot--Remote"></a>`Knot::Remote`

remote configuration section

* **See also**
  * https://www.knot_dns.cz/docs/latest/html/reference.html#remote-section

Alias of

```puppet
Struct[{
  'comment'                     => Optional[String[1]],
  'id'                          => String[1],
  'address'                     => Optional[Variant[String[1],Array[String[1]]]],
  'via'                         => Optional[Array[String[1]]],
  'quic'                        => Optional[Boolean],
  'tls'                         => Optional[Boolean],
  'key'                         => Optional[Knot::Subtypes::Dname],
  'cert-key'                    => Optional[Knot::Subtypes::Base64],
  'cert-hostname'               => Optional[Array[String[1]]],
  'block-notify-after-transfer' => Optional[Boolean],
  'no-edns'                     => Optional[Boolean],
  'automatic-acl'               => Optional[Boolean],
}]
```

### <a name="Knot--Remotes"></a>`Knot::Remotes`

remotes configuration section

* **See also**
  * https://www.knot_dns.cz/docs/latest/html/reference.html#remotes-section

Alias of

```puppet
Struct[{
  'comment' => Optional[String[1]],
  'id'      => String[1],
  'remote'  => Optional[Array[String[1]]],
}]
```

### <a name="Knot--Server"></a>`Knot::Server`

server configuration section

* **See also**
  * https://www.knot-dns.cz/docs/latest/html/reference.html#server-section

Alias of

```puppet
Struct[{
  'comment'                 => Optional[String[1]],
  'identity'                => Optional[String[1]],
  'version'                 => Optional[String[1]],
  'nsid'                    => Optional[Variant[String[1],Knot::Subtypes::Hexstr]],
  'rundir'                  => Optional[String[1]],
  'user'                    => Optional[String[1]],
  'pidfile'                 => Optional[String[1]],
  'udp-workers'             => Optional[Integer],
  'tcp-workers'             => Optional[Integer],
  'background-workers'      => Optional[Integer],
  'async-start'             => Optional[Boolean],
  'tcp-idle-timeout'        => Optional[String[1]],
  'tcp-io-timeout'          => Optional[Integer],
  'tcp-remote-io-timeout'   => Optional[Integer],
  'tcp-max-clients'         => Optional[Integer],
  'tcp-reuseport'           => Optional[Boolean],
  'tcp-fastopen'            => Optional[Boolean],
  'quic-max-clients'        => Optional[Integer],
  'quic-outbuf-max-size'    => Optional[Knot::Subtypes::Size],
  'quic-idle-close-timeout' => Optional[Knot::Subtypes::Time],
  'remote-pool-limit'       => Optional[Integer],
  'remote-pool-timeout'     => Optional[Knot::Subtypes::Time],
  'remote-retry-delay'      => Optional[Integer],
  'socket-affinity'         => Optional[Boolean],
  'udp-max-payload'         => Optional[Knot::Subtypes::Size],
  'udp-max-payload-ipv4'    => Optional[Knot::Subtypes::Size],
  'udp-max-payload-ipv6'    => Optional[Knot::Subtypes::Size],
  'key-file'                => Optional[String[1]],
  'cert-file'               => Optional[String[1]],
  'ca-file'                 => Optional[Array[String[1]]],
  'edns-client-subnet'      => Optional[Boolean],
  'answer-rotation'         => Optional[Boolean],
  'automatic-acl'           => Optional[Boolean],
  'proxy-allowlist'         => Optional[Array[String[1]]],
  'dbus-event'              => Optional[Array[Enum['none', 'running', 'zone-updated', 'external-verify', 'ksk-submission', 'dnssec-invalid']]],
  'dbus-init-delay'         => Optional[Knot::Subtypes::Time],
  'listen'                  => Optional[Array[String[1]]],
  'listen-quic'             => Optional[Array[String[1]]],
  'listen-tls'              => Optional[Array[String[1]]],
}]
```

### <a name="Knot--Statistics"></a>`Knot::Statistics`

statistics configuration section

* **See also**
  * https://www.knot_dns.cz/docs/latest/html/reference.html#statistics-section

Alias of

```puppet
Struct[{
  'comment' => Optional[String[1]],
  'timer'   => Optional[Knot::Subtypes::Time],
  'file'    => Optional[String[1]],
  'append'  => Optional[Boolean],
}]
```

### <a name="Knot--Submission"></a>`Knot::Submission`

submission configuration section

* **See also**
  * https://www.knot_dns.cz/docs/latest/html/reference.html#submission-section

Alias of

```puppet
Struct[{
  'comment'        => Optional[String[1]],
  'id'             => String[1],
  'parent'         => Optional[Array[String[1]]],
  'check-interval' => Optional[Knot::Subtypes::Time],
  'timeout'        => Optional[Knot::Subtypes::Time],
  'parent-delay'   => Optional[Knot::Subtypes::Time],
}]
```

### <a name="Knot--Subtypes--Base64"></a>`Knot::Subtypes::Base64`

subtype: Base64 encoded string

Alias of `String[1]`

### <a name="Knot--Subtypes--Dname"></a>`Knot::Subtypes::Dname`

subtype: Domain name

Alias of `String[1]`

### <a name="Knot--Subtypes--Hexstr"></a>`Knot::Subtypes::Hexstr`

subtype: Hexadecimal string (with 0x prefix)

Alias of `String[1]`

### <a name="Knot--Subtypes--Size"></a>`Knot::Subtypes::Size`

subtype: Number of bytes, an integer with a
possible size multiplier suffix (B ~ 1, K ~ 1024, M ~ 1024^2 or G ~ 1024^3)

Alias of `String[1]`

### <a name="Knot--Subtypes--Time"></a>`Knot::Subtypes::Time`

subtype: Number of seconds, an integer
 with a possible time multiplier suffix
(s ~ 1, m ~ 60, h ~ 3600, d ~ 24 * 3600, w ~ 7 * 24 * 3600, M ~ 30 * 24 * 3600, y ~ 365 * 24 * 3600)

Alias of `Variant[Integer, String[1]]`

### <a name="Knot--Subzone"></a>`Knot::Subzone`

a subzone definition

Alias of

```puppet
Struct[{
  'nameservers' => Optional[Array[String[1]]],
  'trust_ds'    => Optional[Array[String[1]]],
  'ttl'         => Optional[Integer],
}]
```

### <a name="Knot--Template"></a>`Knot::Template`

template configuration section

* **See also**
  * https://www.knot-dns.cz/docs/latest/html/reference.html#template-section

Alias of

```puppet
Struct[{
  'comment'              => Optional[String[1]],
  'id'                   => String[1],
  'global-module'        => Optional[String[1]],
  'domain'               => Optional[String[1]],
  'storage'              => Optional[String[1]],
  'file'                 => Optional[String[1]],
  'zone-db-input'        => Optional[Integer],
  'zone-db-output'       => Optional[String[1]],
  'master'               => Optional[Variant[String[1],Array[String[1]]]],
  'ddns-master'          => Optional[String[1]],
  'notify'               => Optional[Array[String[1]]],
  'notify-delay'         => Optional[Knot::Subtypes::Time],
  'update-delay'         => Optional[Knot::Subtypes::Time],
  'acl'                  => Optional[Array[String[1]]],
  'master-pin-tolerance' => Optional[Knot::Subtypes::Time],
  'provide-ixfr'         => Optional[Boolean],
  'semantic-checks'      => Optional[Variant[Enum['soft'], Boolean]],
  'default-ttl'          => Optional[Knot::Subtypes::Time],
  'zonefile-sync'        => Optional[Knot::Subtypes::Time],
  'zonefile-load'        => Optional[Enum['none', 'difference', 'difference-no-serial', 'whole']],
  'zonefile-skip'        => Optional[Array[String[1]]],
  'journal-content'      => Optional[Enum['none', 'changes', 'all']],
  'journal-max-usage'    => Optional[Knot::Subtypes::Size],
  'journal-max-depth'    => Optional[Integer],
  'ixfr-benevolent'      => Optional[Boolean],
  'ixfr-by-one'          => Optional[Boolean],
  'ixfr-from-axfr'       => Optional[Boolean],
  'zone-max-size'        => Optional[Knot::Subtypes::Size],
  'adjust-threads'       => Optional[String[1]],
  'external-validation'  => Optional[String[1]],
  'dnssec-signing'       => Optional[Boolean],
  'dnssec-validation'    => Optional[Boolean],
  'dnssec-policy'        => Optional[String[1]],
  'ds-push'              => Optional[Variant[String[1],Array[String[1]]]],
  'zonemd-verify'        => Optional[Boolean],
  'zonemd-generate'      => Optional[Enum['none', 'zonemd-sha384', 'zonemd-sha512', 'remove']],
  'serial-policy'        => Optional[Enum['increment', 'unixtime', 'dateserial']],
  'serial-modulo'        => Optional[String[1]],
  'reverse-generate'     => Optional[Array[Knot::Subtypes::Dname]],
  'include-from'         => Optional[Array[Knot::Subtypes::Dname]],
  'refresh-min-interval' => Optional[Knot::Subtypes::Time],
  'refresh-max-interval' => Optional[Knot::Subtypes::Time],
  'retry-min-interval'   => Optional[Knot::Subtypes::Time],
  'retry-max-interval'   => Optional[Knot::Subtypes::Time],
  'expire-min-interval'  => Optional[Knot::Subtypes::Time],
  'expire-max-interval'  => Optional[Knot::Subtypes::Time],
  'catalog-role'         => Optional[Enum['none', 'interpret', 'generate', 'member']],
  'catalog-template'     => Optional[Array[String[1]]],
  'catalog-zone'         => Optional[Knot::Subtypes::Dname],
  'catalog-group'        => Optional[String[1]],
  'module'               => Optional[Variant[String[1],Array[String[1]]]],
}]
```

### <a name="Knot--Xdp"></a>`Knot::Xdp`

xdp configuration section

* **See also**
  * https://www.knot-dns.cz/docs/latest/html/reference.html#xdp-section

Alias of

```puppet
Struct[{
  'comment'                => Optional[String[1]],
  'listen'                 => Optional[Array[String[1]]],
  'udp'                    => Optional[Boolean],
  'tcp'                    => Optional[Boolean],
  'quick'                  => Optional[Boolean],
  'quic-port'              => Optional[Integer],
  'tcp-max-clients'        => Optional[Integer],
  'tcp-inbuf-max-size'     => Optional[Knot::Subtypes::Size],
  'tcp-outbuf-max-size'    => Optional[Knot::Subtypes::Size],
  'tcp-idle-close-timeout' => Optional[Knot::Subtypes::Time],
  'tcp-idle-reset-timeout' => Optional[Knot::Subtypes::Size],
  'tcp-resend-timeout'     => Optional[Knot::Subtypes::Size],
  'route-check'            => Optional[Boolean],
  'ring-size'              => Optional[Integer],
  'busypoll-budget'        => Optional[Integer],
  'busypoll-timeout'       => Optional[Integer],
}]
```

### <a name="Knot--Zone"></a>`Knot::Zone`

zone configuration section

* **See also**
  * https://www.knot-dns.cz/docs/latest/html/reference.html#zone-section

Alias of

```puppet
Struct[{
  'comment'              => Optional[String[1]],
  'domain'               => String[1],
  'template'             => Optional[String[1]],
  'storage'              => Optional[String[1]],
  'file'                 => Optional[String[1]],
  'zone-db-input'        => Optional[Integer],
  'zone-db-output'       => Optional[String[1]],
  'master'               => Optional[Variant[String[1],Array[String[1]]]],
  'ddns-master'          => Optional[String[1]],
  'notify'               => Optional[Array[String[1]]],
  'notify-delay'         => Optional[Knot::Subtypes::Time],
  'update-delay'         => Optional[Knot::Subtypes::Time],
  'acl'                  => Optional[Array[String[1]]],
  'master-pin-tolerance' => Optional[Knot::Subtypes::Time],
  'provide-ixfr'         => Optional[Boolean],
  'semantic-checks'      => Optional[Variant[Enum['soft'], Boolean]],
  'default-ttl'          => Optional[Knot::Subtypes::Time],
  'zonefile-sync'        => Optional[Knot::Subtypes::Time],
  'zonefile-load'        => Optional[Enum['none', 'difference', 'difference-no-serial', 'whole']],
  'zonefile-skip'        => Optional[Array[String[1]]],
  'journal-content'      => Optional[Enum['none', 'changes', 'all']],
  'journal-max-usage'    => Optional[Knot::Subtypes::Size],
  'journal-max-depth'    => Optional[Integer],
  'ixfr-benevolent'      => Optional[Boolean],
  'ixfr-by-one'          => Optional[Boolean],
  'ixfr-from-axfr'       => Optional[Boolean],
  'zone-max-size'        => Optional[Knot::Subtypes::Size],
  'adjust-threads'       => Optional[String[1]],
  'external-validation'  => Optional[String[1]],
  'dnssec-signing'       => Optional[Boolean],
  'dnssec-validation'    => Optional[Boolean],
  'dnssec-policy'        => Optional[String[1]],
  'ds-push'              => Optional[Variant[String[1],Array[String[1]]]],
  'zonemd-verify'        => Optional[Boolean],
  'zonemd-generate'      => Optional[Enum['none', 'zonemd-sha384', 'zonemd-sha512', 'remove']],
  'serial-policy'        => Optional[Enum['increment', 'unixtime', 'dateserial']],
  'serial-modulo'        => Optional[String[1]],
  'reverse-generate'     => Optional[Array[Knot::Subtypes::Dname]],
  'include-from'         => Optional[Array[Knot::Subtypes::Dname]],
  'refresh-min-interval' => Optional[Knot::Subtypes::Time],
  'refresh-max-interval' => Optional[Knot::Subtypes::Time],
  'retry-min-interval'   => Optional[Knot::Subtypes::Time],
  'retry-max-interval'   => Optional[Knot::Subtypes::Time],
  'expire-min-interval'  => Optional[Knot::Subtypes::Time],
  'expire-max-interval'  => Optional[Knot::Subtypes::Time],
  'catalog-role'         => Optional[Enum['none', 'interpret', 'generate', 'member']],
  'catalog-template'     => Optional[Array[String[1]]],
  'catalog-zone'         => Optional[Knot::Subtypes::Dname],
  'catalog-group'        => Optional[String[1]],
  'module'               => Optional[Variant[Array[String[1]],String[1]]],
}]
```

